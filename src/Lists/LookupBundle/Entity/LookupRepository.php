<?php

namespace Lists\LookupBundle\Entity;

use Doctrine\ORM\EntityRepository;
use Doctrine\ORM\Query;

/**
 * LookupRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class LookupRepository extends EntityRepository
{
    const KEY__SCOPE = 'scope';
    const KEY__DOGOVOR = 'dogovor';

    /**
     * Returns choices for scope
     *
     * @return Query
     */
    public function getOnlyScopeQuery()
    {
        return $this->getLookupByLukeyQuery(self::KEY__SCOPE);
    }

    /**
     * Returns choices for dogovor_type
     *
     * @return Query
     */
    public function getOnlyDogovorTypeQuery()
    {
        return $this->getLookupByLukeyQuery(self::KEY__DOGOVOR);
    }

    /**
     * Get lookup by lukey
     *
     * @param string $lukey
     *
     * @return \Doctrine\ORM\Query
     */
    public function getLookupByLukeyQuery($lukey)
    {
        $query = $this->createQueryBuilder('l')
            ->where('l.lukey = :lukey')
            ->setParameter(':lukey', $lukey);

        return $query;
    }
}
