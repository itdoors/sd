{% extends "::base.html.twig" %}
{% block page_title %}
    <h3 class="page-title">
        {% trans %}Handlings <small>list of handlings</small>{% endtrans %}
    </h3>
{% endblock %}

{% block css_page_level_plugin %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/select2/select2_metro.css')}} " />
{% endblock %}

{% block js_page_level_plugins %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/select2/select2.min.js') }}"></script>
{% endblock %}

{% block body %}

    {{  include(
        'ListsHandlingBundle:Sales:filters.html.twig',
        {
            filterForm: filterForm
        }
        )
    }}

    <div class="table-responsive">
        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>

        {% if pagination.getTotalItemCount %}
            <table class="table table-striped table-bordered table-advance table-hover">
                <thead>
                    <tr>
                        <th>{% trans %}ID{% endtrans %} </th>
                        <th>{% trans %}Name{% endtrans %} </th>
                        <th>{% trans %}Createdatetime{% endtrans %} </th>
                        <th>{% trans %}LastHandlingDate{% endtrans %} </th>
                        <th>{% trans %}City{% endtrans %} </th>
                        <th>{% trans %}Scope{% endtrans %} </th>
                        <th>{% trans %}ServiceOffered{% endtrans %} </th>
                        <th>{% trans %}Chance{% endtrans %} </th>
                        <th>{% trans %}Status{% endtrans %} </th>
                        <th>{% trans %}Managers{% endtrans %} </th>
                        <th>{% trans %}Actions{% endtrans %} </th>
                    </tr>
                </thead>
                {% for item in pagination %}
                    <tr {% if loop.index is odd %}class="color"{% endif %}>
                        <td>
                            <a href="{{ path('lists_sales_handling_show', { id: item.handlingId } ) }}">
                                {{ item.handlingId|e }}
                            </a>
                        </td>
                        <td>{{ item.organizationName|e }}</td>
                        <td>{{ item.handlingCreatedatetime|date("d.M.y, H:m") }}</td>
                        <td>{{ item.handlingLastHandlingDate|date("d.M.y, H:m") }}</td>
                        <td>{{ item.cityName|e }}</td>
                        <td>{{ item.scopeName|e }}</td>
                        <td>{{ item.handlingServiceOffered|e }}</td>
                        <td>{{ item.handlingChance|e }}</td>
                        <td>{{ item.statusName|e }}</td>
                        <td>{{ item.fullNames|e }}</td>
                        <td></td>
                    </tr>
                {% endfor %}
            </table>
        {% endif %}

        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>
    </div>
{% endblock body %}