{% extends "::base.html.twig" %}
{% trans_default_domain 'ListsOrganizationBundle' %}
{% block title %}{% trans %}Show Organization{% endtrans %} {% endblock %}
{% block page_breadcrumbs %}
	<ul class="page-breadcrumb breadcrumb">
		<li>
			<i class="fa fa-home"></i>
			<a href="{{ path('sd_dashboard_homepage') }}" title="{% trans %}Dashboard{% endtrans %}">{% trans %}Dashboard{% endtrans %}</a>
			<i class="fa fa-angle-right"></i>
		</li>
		<li><a href="{{ path('lists_sales_organization_show', { id : organization.id }) }}" title="{% trans %}Show Organization{% endtrans %}">{% trans %}Show Organization{% endtrans %}</a></li>
	</ul>
{% endblock %}
{% block page_title %}
	<h3 class="page-title">
		{% trans %}Organization <small>show organization</small>{% endtrans %}  
	</h3>
{% endblock %}

{% block css_page_level_plugin %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/select2/select2_metro.css')}} " />
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/bootstrap-editable/bootstrap-editable/css/bootstrap-editable.css')}} " />
{% endblock %}

{% block js_page_level_plugins %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/select2/select2.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/bootstrap-editable/bootstrap-editable/js/bootstrap-editable.min.js') }}"></script>
{% endblock %}

{% block body %}

    <script type="text/javascript">

        $(document).ready(function(){

            $.fn.editable.defaults.inputclass = 'form-control';
            $.fn.editable.defaults.emptytext = '{% trans %}Enter value{% endtrans %}';

            $('#name, #shortDescription, #address, #mailingAddress, #site, #edrpou, #inn, #certificate').editable({
                url: '{{ path('sd_common_ajax_organization_save') }}'
            });

            $('#organizationTypeId').editable({
                url: '{{ path('sd_common_ajax_organization_save') }}',
                source: '{{ path('sd_common_ajax_organization_type') }}'
            });

            $('#scopeId').editable({
                url: '{{ path('sd_common_ajax_organization_save') }}',
                source: '{{ path('sd_common_ajax_scope') }}'
            });

            $('#cityId').editable({
                url: '{{ path('sd_common_ajax_organization_save') }}',
                source: '{{ path('sd_common_ajax_city') }}',
                select2: {
                    placeholder: '{% trans %}Select City{% endtrans %}',
                    minimumInputLength: 2
                }
            });
        })

    </script>

	<div class="row">
		<div class="col-md-12">
			<div class="tabbable tabbable-custom boxless">
				<ul class="nav nav-tabs">
					<li class="active"><a href="#tab_0" data-toggle="tab">{% trans %}Organization{% endtrans %}</a></li>
					<li><a href="#tab_1" data-toggle="tab">{% trans %}Managers{% endtrans %}</a></li>
					<li><a href="#tab_2" data-toggle="tab">{% trans %}Contacts{% endtrans %}</a></li>
					<li><a href="#tab_3" data-toggle="tab">{% trans %}Contracts{% endtrans %}</a></li>					
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="tab_0">
						<div class="col-md-12">
							<table id="user" class="table table-bordered table-striped">
								<tbody>
									<tr>
										<td style="width:15%">{% trans %}Organization name{% endtrans %}</td>
										<td style="width:50%">
                                            <a href="#" id="name" data-type="text" data-pk="{{ organization.id }}" data-placement="right" data-placeholder="Required" data-original-title="{% trans %}Enter Organization name{% endtrans %}">
                                                {{ organization.name }}
                                            </a>
                                        </td>
										<td style="width:35%"><span class="text-muted">{% trans %}for example{% endtrans %}: ООО "Импел Гриффин Групп"</span></td>
									</tr>
									<tr>
										<td>{% trans %}Short name{% endtrans %}</td>
										<td>
                                            <a href="#" id="shortDescription" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter organization short name{% endtrans %}">
                                                {{ organization.shortDescription }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}for example{% endtrans %}: Impel Griffin</span></td>
									</tr>
									<tr>
										<td>{% trans %}Organization type{% endtrans %}</td>
										<td><a href="#" id="organizationTypeId" data-type="select" data-pk="{{ organization.id }}" data-value="" data-original-title="{% trans %}Select type{% endtrans %}">{{ organization.organizationType }}</a></td>
										<td><span class="text-muted">{% trans %}Select Organization type{% endtrans %}</span></td>
									</tr>
									<tr>
										<td>{% trans %}Scope{% endtrans %}</td>
										<td>
                                            <a href="#" id="scopeId" data-type="select" data-pk="{{ organization.id }}" data-value="{{ organization.scopeId }}" data-original-title="{% trans %}Select scope{% endtrans %}">
                                                {{ organization.scope }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Select Organization scope{% endtrans %}</td>
									</tr>
									<tr>
										<td>{% trans %}City{% endtrans %}</td>
										<td>
                                            <a href="#" id="cityId" data-type="select2" data-pk="{{ organization.id }}" data-value="BS" data-original-title="{% trans %}Select city{% endtrans %}">
                                                {{ organization.city }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Select city{% endtrans %}</span></td>
									</tr>
									<tr>
										<td>{% trans %}Legal Address{% endtrans %}</td>
										<td>
                                            <a href="#" id="address" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter Legal Address{% endtrans %}">
                                                {{ organization.address }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}for example{% endtrans %}: ООО "Импел Гриффин Групп"</span></td>
									</tr>
									<tr>
										<td>{% trans %}Mailing Address{% endtrans %}</td>
										<td>
                                            <a href="#" id="mailingAddress" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter Mailing Address{% endtrans %}">
                                                {{ organization.mailingAddress }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Enter Mailing Address{% endtrans %}</span></td>
									</tr>
									<tr>
										<td>{% trans %}Physical Address{% endtrans %}</td>
										<td><a href="#" id="address" data-type="text" data-pk="1" data-original-title="{% trans %}Enter Physical Address{% endtrans %}">physicalAddress</a></td>
										<td><span class="text-muted">{% trans %}Enter Physical Address{% endtrans %}</span></td>
									</tr>
									<tr>
										<td>{% trans %}Phone{% endtrans %}</td>
										<td><a href="#" id="phone" data-type="text" data-pk="1" data-original-title="{% trans %}Enter Phone{% endtrans %}">phone</a></td>
										<td><span class="text-muted">{% trans %}Enter Phone{% endtrans %}</span></td>
									</tr>									
									<tr>
										<td>{% trans %}Site{% endtrans %}</td>
										<td>
                                            <a href="#" id="site" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter site{% endtrans %}">
                                                {{ organization.site }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Enter Organization Site{% endtrans %}</span></td>
									</tr>							
									<tr>
										<td>{% trans %}Edrpou{% endtrans %}</td>
										<td>
                                            <a href="#" id="edrpou" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter edrpou{% endtrans %}">
                                                {{ organization.edrpou }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Enter edrpou{% endtrans %}</span></td>
									</tr>												
									<tr>
										<td>{% trans %}INN{% endtrans %}</td>
										<td>
                                            <a href="#" id="inn" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}Enter INN{% endtrans %}">
                                                {{ organization.inn }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Enter INN{% endtrans %}</span></td>
									</tr>	
									<tr>
										<td>{% trans %}INN{% endtrans %}</td>
										<td>
                                            <a href="#" id="certificate" data-type="text" data-pk="{{ organization.id }}" data-original-title="{% trans %}INN Certificate:{% endtrans %}">
                                                {{ organization.certificate }}
                                            </a>
                                        </td>
										<td><span class="text-muted">{% trans %}Enter INN Certificate{% endtrans %}</span></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--tabpane-->
					<div class="tab-pane" id="tab_1">
						<div class="col-md-12">
							<h3>{% trans %}Managers{% endtrans %}</h3>
							<p>{% trans %}Managers on organization{% endtrans %}</p>
							<div class="table-toolbar">
								<div class="btn-group">
									<button id="sample_editable_1_new" class="btn green">
									{% trans %}Add New{% endtrans %} <i class="fa fa-plus"></i>
									</button>
								</div>								
							</div>
							<table class="table table-striped table-hover table-bordered" id="sample_editable_1">
								<thead>
									<tr>
										<th>{% trans %}FirstName, LastName{% endtrans %}</th>
										<th>{% trans %}Mobile{% endtrans %}</th>
										<th>{% trans %}Email{% endtrans %}</th>
										<th>{% trans %}Action{% endtrans %}</th> {# Поле для действий #}
									</tr>
								</thead>
								<tbody>
									<tr >
										<td>Владислав Устатеноко</td>
										<td>06740865184</td>
										<td>mail.ru</td>										
										<td><a class="delete" href="javascript:;">{% trans %}Delete{% endtrans %}</a></td> {# Желательно спросить перед удалением #}
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--tabpane-->
					<div class="tab-pane" id="tab_2">
						<div class="col-md-12">
							<h3>{% trans %}Contacts{% endtrans %}</h3>
							<p>{% trans %}Contacts on sales organization{% endtrans %}</p>
							<div class="table-toolbar">
								<div class="btn-group">
									<button id="sample_editable_1_new" class="btn green">
									{% trans %}Add New{% endtrans %} <i class="fa fa-plus"></i>
									</button>
								</div>								
							</div>
							{# Для контакта нужно фиксировать дату создания и Пользователя, который создал #}
							<table class="table table-striped table-hover table-bordered" id="sample_editable_1">
								<thead>
									<tr>
										<th>№</th>
										<th>{% trans %}FirstName{% endtrans %}</th>
										<th>{% trans %}LastName{% endtrans %}</th>
										<th>{% trans %}SurName{% endtrans %}</th>
										<th>{% trans %}Position{% endtrans %}</th>
										<th>{% trans %}Phone{% endtrans %}</th>
										<th>{% trans %}Mobile{% endtrans %}</th>
										<th>{% trans %}Email{% endtrans %}</th>
										<th>{% trans %}Birthday{% endtrans %}</th>
										<th>{% trans %}Description{% endtrans %}</th>
										<th>{% trans %}Creator{% endtrans %}</th>
										<th>{% trans %}Action{% endtrans %}</th> {# Поле для действий, возможно для менеджера запретить удалять #}
									</tr>
								</thead>
								<tbody>
									<tr >
										<td>1</td>
										<td>Петр</td>
										<td>Петров</td>
										<td>Петрович</td>
										<td>директор</td>
										<td>0442252525</td>
										<td>06740865184</td>
										<td>@mail.ru</td>	
										<td>12.08.1874</td>											
										<td>заметки всякие</td>	
										<td>Владислав Усатенко (12/04/1874)</td>
										<td><a class="delete" href="javascript:;">{% trans %}Delete{% endtrans %}</a></td> {# Желательно спросить перед удалением #}
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!--tabpane-->
					<div class="tab-pane" id="tab_3">
					</div>
					<!--tabpane-->
				</div>
				<!--tab-content-->
			</div>
			<!--tabbale-->
		</div>
	</div>
	<!--row-->

{% endblock body %}