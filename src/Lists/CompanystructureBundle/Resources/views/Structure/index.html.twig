{% extends "::base.html.twig" %}
{% trans_default_domain 'ListsComapnystructureBundle' %}
{% block title %}{% trans %}Structure organization{% endtrans %} {% endblock %}
{% block page_title %}
    <h3 class="page-title">
        {% trans %}Employees <small>list of employees</small>{% endtrans %}
    </h3>
{% endblock %}

{% block page_breadcrumbs %}
    <ul class="page-breadcrumb breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="{{ path('sd_dashboard_homepage') }}" title="{% trans %}Dashboard{% endtrans %}">{% trans %}Dashboard{% endtrans %}</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="{{ path('list_companystructure_employees') }}" title="{% trans %}Employees{% endtrans %}">{% trans %}Employees{% endtrans %}</a>
        </li>
    </ul>
{% endblock %}

{% block css_page_level_plugin %}
    {{ parent() }}
    <link href="{{ asset('metronic/assets/global/plugins/jstree/dist/themes/default/style.min.css')}}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block js_page_level_plugins %}
    {{ parent() }}
    <script src="{{ asset('metronic/assets/global/plugins/jstree/dist/jstree.js')}}" type="text/javascript"></script>
{% endblock %}

{% block body %}
    <script>
        $(document).ready(function(){
            $("#tree_4").jstree({
            "core" : {
                "themes" : {
                    "responsive": false
                }, 
                // so that create works
                "check_callback" : true,
                'data' : {
                    'url' : function (node) {
                      return '{{ path('list_companystructure_employees_list') }}';
                    },
                    'data' : function (node) {
                      return { 'parent' : node.id };
                    }
                }
            }/*,
            "types" : {
                "default" : {
                    "icon" : "fa fa-folder icon-state-warning icon-lg"
                },
                "file" : {
                    "icon" : "fa fa-file icon-state-warning icon-lg"
                }
            },
            "state" : { "key" : "demo3" },
            "plugins" : [ "dnd", "state", "types" ]*/
        });
        });
    </script>
    <div class="row">
        <div class="col-md-12">
            <div class="portlet red-pink box">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="fa fa-cogs"></i>{% trans%}Structure organization{% endtrans%}
                    </div>
                    <div class="tools">
                        <a href="javascript:;" class="reload"></a>
                    </div>
                </div>
                <div class="portlet-body">
                    <div id="tree_4" class="tree-demo">
                    </div>
                    {#<div class="alert alert-info no-margin margin-top-10">
                    </div>#}
                </div>
            </div>
        </div>
    </div>
{% endblock body %}
