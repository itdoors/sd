{% extends "::base.html.twig" %}
{% trans_default_domain 'ITDoorsControllingBundle' %}
{% block title %}{% trans %}List of debtors{% endtrans %} {% endblock %}
{% block page_title %}
    <h3 class="page-title">
        {% trans %}Invoice <small>list of debtors</small>{% endtrans %}
    </h3>
{% endblock %}
{% block page_breadcrumbs %}
	<ul class="page-breadcrumb breadcrumb">
		<li>
                                        <i class="fa fa-home"></i>
                                        <a href="{{ path('it_doors_controlling_homepage') }}" title="{% trans %}Controlling{% endtrans %}">{% trans %}Controlling{% endtrans %}</a>
                                        <i class="fa fa-angle-right"></i>
                                    </li>
		<li><a href="{{ path('it_doors_controlling_invoice') }}" title="{% trans %}invoice{% endtrans %}">{% trans %}invoice{% endtrans %}</a></li>
	</ul>
{% endblock %}

{% block css_page_level_plugin %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/select2/select2_metro.css')}} " />
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/bootstrap-editable/bootstrap-editable/css/bootstrap-editable.css')}} " />
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/data-tables/DT_bootstrap.css')}} " />
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/data-tables/DT_bootstrap.css')}} " />
    <link rel="stylesheet" type="text/css" href="{{ asset('templates/metronic/plugins/bootstrap-datetimepicker/css/datetimepicker.css')}} " />
{% endblock %}

{% block js_page_level_plugins %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/select2/select2.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/bootstrap-editable/bootstrap-editable/js/bootstrap-editable.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/data-tables/jquery.dataTables.js') }}"></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/data-tables/DT_bootstrap.js') }}"></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js')}} "></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js')}} "></script>
    <script type="text/javascript" src="{{ asset('templates/metronic/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.ru.js')}} "></script>
{% endblock %}

{% block body %}
    <div class="row">
            <div class="col-md-12">
                    <div class="tabbable tabbable-custom boxless">
                            <ul class="nav nav-tabs">
                                    <li class="active"><a href="#tab_0" data-toggle="tab">{% trans %}1-30{% endtrans %}</a></li>
                                    <li><a href="#tab_1" data-toggle="tab">{% trans %}31-60{% endtrans %}</a></li>
                                    <li><a href="#tab_2" data-toggle="tab">{% trans %}61-120{% endtrans %}</a></li>										
                                    <li><a href="#tab_3" data-toggle="tab">{% trans %}121-180{% endtrans %}</a></li>
                                    <li><a href="#tab_4" data-toggle="tab">{% trans %}181{% endtrans %}</a></li>
                                    <li><a href="#tab_5" data-toggle="tab">{% trans %}Суды{% endtrans %}</a></li>
                            </ul>
                            <div class="tab-content">

                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entities30, number: 0, classactive: 'active' }  ) }}
                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entities60, number: 1  }  ) }}
                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entities120, number: 2  }  ) }}
                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entities180, number: 3  }  ) }}
                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entities181, number: 4  }  ) }}
                    {{  include('ITDoorsControllingBundle:Invoice:show.html.twig',      {   entities: entitiescourt, number: 5  }  ) }}
                       
                    <!--tabpane-->
                    {#{  include(
                        'ListsHandlingBundle:' ~ baseTemplate ~ ':managers.html.twig',
                            {
                                handling: handling,
                                baseTemplate: baseTemplate,
                                baseRoutePrefix: baseRoutePrefix
                            }
                        )
                    }}
					<!--tabpane-->
                    {{  include(
                        'ListsHandlingBundle:' ~ baseTemplate ~ ':contacts.html.twig',
                        {
                            handling: handling,
                            baseTemplate: baseTemplate,
                            baseRoutePrefix: baseRoutePrefix
                        }
                        )
                    }#}
                    <!--tabpane-->
                    <div class="tab-pane" id="tab_1">21-60</div>
                    <div class="tab-pane" id="tab_2">61-120</div>
                    <div class="tab-pane" id="tab_3">
                       121-180
                        {#{  include(
                            'ListsOrganizationBundle:' ~ baseTemplate ~ ':edit.html.twig',
                                {
                                    organization: organization,
                                    showMoreInfoIds: showMoreInfoIds
                                }
                            )
                        }#}
                    </div>
                    <div class="tab-pane" id="tab_4">181</div>
                    <div class="tab-pane" id="tab_5">суды</div>
                    <!--tabpane-->
				</div>
				<!--tab-content-->
			</div>
			<!--tabbale-->
		</div>
	</div>
    <div class="table-responsive">
        <div class="navigation">
            {#{ knp_pagination_render(pagination) }#}
        </div>

        {#% if pagination.getTotalItemCount %}
            <table class="table table-striped table-bordered table-advance table-hover">
                <thead>
                    <tr>
                        <th>{% trans %}ID{% endtrans %} </th>
                        <th>{% trans %}Name{% endtrans %} </th>
                        <th>{% trans %}Createdatetime{% endtrans %} </th>
                        <th>{% trans %}LastHandlingDate{% endtrans %} </th>
                        <th>{% trans %}City{% endtrans %} </th>
                        <th>{% trans %}Scope{% endtrans %} </th>
                        <th>{% trans %}ServiceOffered{% endtrans %} </th>
                        <th>{% trans %}Chance{% endtrans %} </th>
                        <th>{% trans %}Status{% endtrans %} </th>
                        <th>{% trans %}Managers{% endtrans %} </th>
                        <th>{% trans %}Actions{% endtrans %} </th>
                    </tr>
                </thead>
                {% for item in pagination %}
                    <tr {% if loop.index is odd %}class="color"{% endif %}>
                        <td>
                            <a href="{{ path('lists_' ~ baseRoutePrefix ~ '_handling_show', { id: item.handlingId } ) }}">
                                {{ item.handlingId|e }}
                            </a>
                        </td>
                        <td>{{ item.organizationName|e }}</td>
                        <td>{{ item.handlingCreatedate|date("d.m.y") }}</td>
                        <td>
                            {% if item.handlingLastHandlingDate %}
                                {{ item.handlingLastHandlingDate|date("d.m.y, H:i") }}
                            {% endif %}
                        </td>
                        <td>{{ item.cityName|e }}</td>
                        <td>{{ item.scopeName|e }}</td>
                        <td>{{ item.handlingServiceOffered|e }}</td>
                        {% set progress = (item.resultProgress is not null) ? item.resultProgress : item.progress %}
                        {% set percentageString = item.resultPercentageString ? item.resultPercentageString : item.percentageString %}
                        <td>
                            <div style="width: {{ progress }}%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="{{ progress }}" role="progressbar" class="progress-bar progress-bar-success">
                                <span class="">{{ percentageString|e }}</span>
                            </div>
                        </td>
                        <td>{{ item.statusName|e }}</td>
                        <td>{{ item.fullNames|e }}</td>
                        <td></td>
                    </tr>
                {% endfor %}
            </table>
        {% endif %#}
      
        <div class="navigation">
            {#{ knp_pagination_render(pagination) }#}
        </div>
    </div>
{% endblock body %}