{% trans_default_domain 'ITDoorsPayMasterBundle' %}

<div class="navigation" style="overflow: hidden;">
    {{ ajax_paginator_render(
        entities, nameSpacePayMaster, {
                ('table_tab_'~ tab): 'ITDoorsAjax.updateList'
            }
        )
    }}
</div>
<div class="table-scrollable">
    <table class="table table-striped table-bordered table-advance table-hover">
        <thead>
            <tr>
                <th>{% trans %}Planned date of payment{% endtrans %}</th>
                <th>{% trans %}Date of receipt{% endtrans %}</th>
                <th>{% trans %}Date of invoice{% endtrans %}</th>
                <th>{% trans %}Customer{% endtrans %}</th>
                <th>{% trans %}Provider{% endtrans %}</th>
                <th>{% trans %}Representation{% endtrans %}</th>
                <th>{% trans %}MPK{% endtrans %}</th>
                <th>{% trans %}Sum with VAT{% endtrans %}</th>
                <th>{% trans %}Notes{% endtrans %}</th>
                {% if tab != 'sponsored' and tab != 'rejected' %}
                <th>{% trans %}Acceptance{% endtrans %}</th>
                {% endif %}
                {% if tab == 'sponsored' %}
                <th>{% trans %}Date of payment{% endtrans %}</th>
                {% endif %}
                {% if tab == 'rejected' %}
                <th>{% trans %}Reason{% endtrans %}</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for entity in entities %}
                <tr class="{{ cycle(['odd', 'even'], entity.id) }}">
                    <td class="">{{ entity.expectedDate is empty ? '' : entity.expectedDate|date("d.m.y") }}</td>
                    <td class="">{{ entity.createDatetime is empty ? '' : entity.createDatetime|date("d.m.y") }}</td>
                    <td class="">{{ entity.invoiceDate is empty ? '' : entity.invoiceDate|date("d.m.y") }}</td>
                    <td class="">{{ entity.customer }}</td>
                    <td class="">{{ entity.contractor }}</td>
                    <td class="">{{ entity.creator.stuff ? entity.creator.stuff.companystructure : '' }}</td>
                    <td class="">{{ entity.mpks|join(', ') }}</td>
                    <td class="">{{ entity.invoiceAmount }}</td>
                    <td class="">{{ entity.description }}</td>
                    {% if tab != 'sponsored' and tab != 'rejected' %}
                    <td class="">
                        {% if entity.isRejected == true %}
                            {% trans %}Rejected{% endtrans %}
                        {% elseif entity.isRejected is not null %}
                            {% trans %}Adopted{% endtrans %}
                        {% endif %}
                    </td>
                    {% endif %}
                    {% if tab == 'sponsored' %}
                    <td>{{ entity.paymentDate is empty ? '' : entity.paymentDate|date("d.m.y") }}</td>
                    {% endif %}
                    {% if tab == 'rejected' %}
                    <td>{{ entity.reason }}</td>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="navigation" style="overflow: hidden;">
    {{ ajax_paginator_render(
        entities, nameSpacePayMaster, {
                ('table_tab_'~tab): 'ITDoorsAjax.updateList'
            }
        )
    }}
</div>