parameters:
    sd_user.repository.class: SD\UserBundle\Entity\UserRepository
    sd_user.repository.entity: SD\UserBundle\Entity\User
    sd_user.form.class: SD\UserBundle\Form\ChangePasswordForm
    sd_user.form.new.class: SD\UserBundle\Form\UserNewForm
    staff.filter.form.class: SD\UserBundle\Form\StaffFilterForm
    sd_user.service.class: SD\UserBundle\Services\UserService

services:
    sd_user.repository:
        class: %sd_user.repository.class%
        factory_service: doctrine # this is an instance of Registry
        factory_method: getRepository
        arguments: [ %sd_user.repository.entity% ]

    sd_user.form.changePasswordForm:
        class: %sd_user.form.class%
        arguments: [%sd_user.repository.entity%, @service_container]
        tags:
            - { name: form.type, alias: changePasswordForm }

    sd_user.form.userNewForm:
        class: %sd_user.form.new.class%
        arguments: [%sd_user.repository.entity%, @service_container]
        tags:
            - { name: form.type, alias: userNewForm }
            
    sd.user.form.staffFilterForm:
        class: %staff.filter.form.class%
        arguments: [@service_container]
        tags:
            - { name: form.type, alias: staffFilterForm }
            
    sd_user.service:
        class: %sd_user.service.class%
        arguments: [@service_container]
