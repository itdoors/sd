{% extends "::base.html.twig" %}
{% trans_default_domain 'SDServiceDeskBundle' %}
{% block title %}{% trans %}Claims{% endtrans %} {% endblock %}
{% block page_title %}
    <h3 class="page-title">
        {% trans %}Claims{% endtrans %}
    </h3>
{% endblock %}

{% block page_breadcrumbs %}
    <ul class="page-breadcrumb breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="{{ path('sd_dashboard_homepage') }}" title="{% trans %}Dashboard{% endtrans %}">{% trans %}Dashboard{% endtrans %}</a>
        </li>
        <li>
            <a href="{{ path('claim') }}" title="{% trans %}Claims{% endtrans %}">{% trans %}Claims{% endtrans %}</a>
        </li>
    </ul>
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-12">
{#         {% if is_granted('ROLE_ARTICLEADMIN') %}#}
            <a class="btn btn-cl green" href="{{ path('claim_new') }}" title="{% trans %}Add{% endtrans %}">
                {% trans %}Add{% endtrans %}
            </a>
{#         {% endif %}#}
            <div class="table-scrollable" style="clear: right;">
                <table class="table table-striped table-bordered table-hover dataTable" aria-describedby="datatable_ajax_info" id="claims_table">
                    <thead>
                        <tr role="row" class="heading">
                            <th width="5%">{% trans %}ID{% endtrans %}</th>
                            <th width="15%">{% trans %}Customer{% endtrans %}</th>
                            <th width="15%">{% trans %}Claim Type{% endtrans %}</th>
                            <th width="15%">{% trans %}Claim Status{% endtrans %}</th>
                            <th width="15%">{% trans %}Claim Importance{% endtrans %}</th>
                            <th width="10%">{% trans %}Created{% endtrans %}</th>
                            <th width="10%">{% trans %}Closed{% endtrans %}</th>
                            <th width="5%">{% trans %}Disabled{% endtrans %}</th>
{#                         {% if is_granted('ROLE_ARTICLEADMIN') %}#}
                            <th width="10%">{% trans %}Actions{% endtrans %}</th>
{#                         {% endif %}#}
                        </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                        {% for entity in entities %}
                        <tr>
                            <td><a href="{{ path('claim_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                            <td>{% if entity.customer %}<a href="{{ path('client_show', { 'id': entity.customer.id }) }}">{{ entity.customer }}{% endif %}</td>
                            <td>{{ entity.types }}</td>
                            <td>{{ entity.status }}</td>
                            <td>{{ entity.importance }}</td>
                            <td>{% if entity.createdAt %}{{ entity.createdAt|date('Y-m-d') }}{% endif %}</td>
                            <td>{% if entity.closedAt %}{{ entity.closedAt|date('Y-m-d') }}{% endif %}</td>
                            <td>{{ entity.disabled }}</td>
                            <td>
                                <a href="{{ path('claim_show', { 'id': entity.id }) }}">show </a>
                                <a href="{{ path('claim_edit', { 'id': entity.id }) }}">edit</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock body %}